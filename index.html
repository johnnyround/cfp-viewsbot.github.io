<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Telegram Web App</title>
</head>
<body>
    <h1>Telegram Web App</h1>
    <div id="user-info"></div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        Telegram.WebApp.onEvent('mainButtonClicked', function() {
            // Получить данные о пользователе
            const user = Telegram.WebApp.initDataUnsafe.user;
            if (user) {
                document.getElementById('user-info').innerText = `Привет, ${user.username}!`;
            } else {
                document.getElementById('user-info').innerText = 'Не удалось получить данные пользователя.';
            }
        });

        // Автоматически получать данные при загрузке страницы
        const user = Telegram.WebApp.initDataUnsafe.user;
        if (user) {
            document.getElementById('user-info').innerText = `Привет, ${user.username}!`;
        } else {
            document.getElementById('user-info').innerText = 'Не удалось получить данные пользователя.';
        }

        // Показываем кнопку
        Telegram.WebApp.MainButton.setText('Получить данные');
        Telegram.WebApp.MainButton.show();
    </script>
</body>
</html>



